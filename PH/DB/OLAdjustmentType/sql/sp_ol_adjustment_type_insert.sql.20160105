CREATE OR REPLACE FUNCTION sp_ol_adjustment_type_insert (
   in_party_type      ol_adjustment_type.oat_party_type%TYPE,
   in_code            ol_adjustment_type.oat_code%TYPE,
   in_code_in_num     ol_adjustment_type.oat_code_in_num%TYPE,
   in_dc_ind          ol_adjustment_type.oat_dc_ind%TYPE,
   in_desc            ol_adjustment_type.oat_desc%TYPE,
   in_disabled        ol_adjustment_type.oat_disabled%TYPE,
   in_create_user     ol_adjustment_type.oat_create_user%TYPE,
   in_nature	      ol_adjustment_type.oat_nature%TYPE)
   RETURN NUMBER
IS
BEGIN
   INSERT INTO ol_adjustment_type (oat_party_type,
                                oat_code,
                                oat_code_in_num,
                                oat_dc_ind,
                                oat_desc,
                                oat_disabled,
                                oat_allow_modify,
                                oat_allow_bal_negative,
				oat_nature,
                                oat_create_timestamp,
                                oat_create_user,
                                oat_update_timestamp,
                                oat_update_user)
        VALUES (in_party_type,
                in_code,
                in_code_in_num,
                in_dc_ind,
                in_desc,
                in_disabled,
                1,
                DECODE (in_party_type, 'M', 1, 0),
		in_nature,
                SYSDATE,
                in_create_user,
                SYSDATE,
                in_create_user);

   IF SQL%ROWCOUNT = 0
   THEN
      RETURN 1;
   ELSE
      RETURN 0;
   END IF;
EXCEPTION
   WHEN OTHERS
   THEN
      RETURN 9;
END sp_ol_adjustment_type_insert;
/

