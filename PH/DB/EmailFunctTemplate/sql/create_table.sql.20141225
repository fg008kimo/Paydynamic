ALTER TABLE EMAIL_FUNCT_TEMPLATE
 DROP PRIMARY KEY CASCADE;

DROP TABLE EMAIL_FUNCT_TEMPLATE CASCADE CONSTRAINTS;

CREATE TABLE EMAIL_FUNCT_TEMPLATE
(
  EFT_SOURCE            VARCHAR2(20 BYTE),
  EFT_TPL_NAME          VARCHAR2(50 BYTE),
  EFT_FUNCT             VARCHAR2(15 BYTE),
  EFT_FROM              VARCHAR2(50 BYTE),
  EFT_TO                INTEGER,
  EFT_CC                INTEGER,
  EFT_BCC               INTEGER,
  EFT_SUBJECT           VARCHAR2(100 BYTE),
  EFT_HEADER            VARCHAR2(20 BYTE),
  EFT_CSS               VARCHAR2(20 BYTE),
  EFT_BODY              VARCHAR2(20 BYTE),
  EFT_FOOTER            VARCHAR2(20 BYTE),
  EFT_CREATE_USER       VARCHAR2(20 BYTE),
  EFT_UPDATE_USER       VARCHAR2(20 BYTE),
  EFT_CREATE_TIMESTAMP  DATE               DEFAULT SYSDATE,
  EFT_UPDATE_TIMESTAMP  DATE               DEFAULT SYSDATE
)
TABLESPACE USER_DATA
RESULT_CACHE (MODE DEFAULT)
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX EMAIL_FUNCT_TEMPLATE_PK ON EMAIL_FUNCT_TEMPLATE
(EFT_FUNCT)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


ALTER TABLE EMAIL_FUNCT_TEMPLATE ADD (
  CONSTRAINT EMAIL_FUNCT_TEMPLATE_PK
  PRIMARY KEY
  (EFT_FUNCT)
  USING INDEX EMAIL_FUNCT_TEMPLATE_PK
  ENABLE VALIDATE);


ALTER TABLE EMAIL_FUNCT_TEMPLATE ADD (
  CONSTRAINT EMAIL_FUNCT_TEMPLATE_FK01
  FOREIGN KEY (EFT_FUNCT)
  REFERENCES EMAIL_FUNCT (EF_FUNCT)
  ENABLE VALIDATE,
  CONSTRAINT EMAIL_FUNCT_TEMPLATE_FK02
  FOREIGN KEY (EFT_HEADER)
  REFERENCES EMAIL_TEMPLATE (ET_ID)
  ENABLE VALIDATE,
  CONSTRAINT EMAIL_FUNCT_TEMPLATE_FK03
  FOREIGN KEY (EFT_CSS)
  REFERENCES EMAIL_TEMPLATE (ET_ID)
  ENABLE VALIDATE,
  CONSTRAINT EMAIL_FUNCT_TEMPLATE_FK04
  FOREIGN KEY (EFT_BODY)
  REFERENCES EMAIL_TEMPLATE (ET_ID)
  ENABLE VALIDATE,
  CONSTRAINT EMAIL_FUNCT_TEMPLATE_FK05
  FOREIGN KEY (EFT_FOOTER)
  REFERENCES EMAIL_TEMPLATE (ET_ID)
  ENABLE VALIDATE);

