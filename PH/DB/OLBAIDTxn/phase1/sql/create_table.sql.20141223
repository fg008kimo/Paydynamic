ALTER TABLE OL_BAID_TXN
 DROP PRIMARY KEY CASCADE;

DROP TABLE OL_BAID_TXN CASCADE CONSTRAINTS;

CREATE TABLE OL_BAID_TXN
(
  OBT_TXN_ID                 VARCHAR2(16 BYTE)  NOT NULL,
  OBT_ORG_TXN_ID             VARCHAR2(16 BYTE),
  OBT_INPUT_CHANNEL          VARCHAR2(3 BYTE),
  OBT_STATUS                 CHAR(1 BYTE),
  OBT_AR_IND                 CHAR(1 BYTE),
  OBT_SUB_STATUS             CHAR(3 BYTE),
  OBT_STAT_TXN_ID            VARCHAR2(16 BYTE),
  OBT_ORG_VOIDED_TXN_ID      VARCHAR2(16 BYTE),
  OBT_TXN_CODE               VARCHAR2(3 BYTE),
  OBT_PID                    VARCHAR2(10 BYTE),
  OBT_BAID                   VARCHAR2(20 BYTE),
  OBT_POSTING_DATE           VARCHAR2(8 BYTE),
  OBT_TRANSMISSION_DATETIME  VARCHAR2(14 BYTE),
  OBT_TXN_CCY                CHAR(3 BYTE),
  OBT_TXN_AMT                NUMBER(12,2)       DEFAULT 0,
  OBT_OPEN_BAL               NUMBER(14,2)       DEFAULT 0,
  OBT_CURR_BAL               NUMBER(14,2)       DEFAULT 0,
  OBT_APPROVAL_DATE          VARCHAR2(8 BYTE),
  OBT_APPROVAL_TIMESTAMP     TIMESTAMP(6),
  OBT_DST_TXN_ID             VARCHAR2(16 BYTE),
  OBT_BANK_CODE              VARCHAR2(10 BYTE),
  OBT_BANK_ACCT_NUM          VARCHAR2(50 BYTE),
  OBT_PID_TXN_HOLD_IND       INTEGER,
  OBT_PID_SYS_MATCH_IND      INTEGER,
  OBT_POSTED_IND             INTEGER,
  OBT_REMARK                 VARCHAR2(255 BYTE),
  OBT_CREATE_USER            VARCHAR2(20 BYTE),
  OBT_CREATE_TIMESTAMP       DATE               DEFAULT SYSDATE,
  OBT_UPDATE_USER            VARCHAR2(20 BYTE),
  OBT_UPDATE_TIMESTAMP       DATE               DEFAULT SYSDATE
)
TABLESPACE USER_DATA
RESULT_CACHE (MODE DEFAULT)
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          2M
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE INDEX OL_BAID_TXN_IDX01 ON OL_BAID_TXN
(OBT_ORG_TXN_ID)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX02 ON OL_BAID_TXN
(OBT_STAT_TXN_ID)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          384K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX03 ON OL_BAID_TXN
(OBT_PID)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX04 ON OL_BAID_TXN
(OBT_BAID)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX05 ON OL_BAID_TXN
(OBT_DST_TXN_ID)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX06 ON OL_BAID_TXN
(OBT_APPROVAL_DATE)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX07 ON OL_BAID_TXN
(OBT_APPROVAL_TIMESTAMP)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX08 ON OL_BAID_TXN
(OBT_POSTING_DATE)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX09 ON OL_BAID_TXN
(OBT_TXN_CODE, OBT_STATUS, OBT_AR_IND, OBT_APPROVAL_TIMESTAMP)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX10 ON OL_BAID_TXN
(OBT_TXN_CODE, OBT_STATUS, OBT_AR_IND, OBT_POSTING_DATE)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX11 ON OL_BAID_TXN
(OBT_UPDATE_TIMESTAMP)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE INDEX OL_BAID_TXN_IDX12 ON OL_BAID_TXN
(OBT_POSTED_IND)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


CREATE UNIQUE INDEX OL_BAID_TXN_PK ON OL_BAID_TXN
(OBT_TXN_ID)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          256K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


ALTER TABLE OL_BAID_TXN ADD (
  CONSTRAINT OL_BAID_TXN_PK
  PRIMARY KEY
  (OBT_TXN_ID)
  USING INDEX OL_BAID_TXN_PK
  ENABLE VALIDATE);

ALTER TABLE OL_BAID_TXN ADD (
  CONSTRAINT OL_BAID_TXN_FK01 
  FOREIGN KEY (OBT_SUB_STATUS) 
  REFERENCES DEF_SUB_STATUS (DS_SUB_STATUS)
  ENABLE VALIDATE);

