ALTER TABLE OL_BANK_ACCTS_LOG
 DROP PRIMARY KEY CASCADE;

DROP TABLE OL_BANK_ACCTS_LOG CASCADE CONSTRAINTS;

CREATE TABLE OL_BANK_ACCTS_LOG
(
  OBL_INT_BANK_CODE         VARCHAR2(10 BYTE),
  OBL_BANK_ACCT_NUM         VARCHAR2(50 BYTE),
  OBL_LOG_SEQ               INTEGER              DEFAULT 1,
  OBL_ACCT_CCY              VARCHAR2(3 BYTE),
  OBL_SHARED_ACCT           INTEGER,
  OBL_RECEIVED_DATETIME     DATE,
  OBL_RECEIVED_BY           VARCHAR2(20 BYTE),
  OBL_REGISTERED_MOBILE     VARCHAR2(20 BYTE),
  OBL_STATUS_TYPE           VARCHAR2(2 BYTE),
  OBL_INIT_PROVIDER_ID      VARCHAR2(10 BYTE),
  OBL_CREATE_TIMESTAMP      DATE,
  OBL_CREATE_USER           VARCHAR2(20 BYTE),
  OBL_UPDATE_TIMESTAMP      DATE,
  OBL_UPDATE_USER           VARCHAR2(20 BYTE),
  OBL_BANK_ACCT_NAME        VARCHAR2(50 BYTE),
  OBL_OWNER_NAME            VARCHAR2(50 BYTE),
  OBL_BRANCH_NAME           VARCHAR2(150 BYTE),
  OBL_BANK_ACCT_SHORT_NAME  VARCHAR2(20 BYTE),
  OBL_BRANCH_CODE           VARCHAR2(50 BYTE),
  OBL_OWNER_ID              VARCHAR2(20 BYTE),
  OBL_SWIFT_CODE            VARCHAR2(20 BYTE),
  OBL_PROVINCE              VARCHAR2(100 BYTE),
  OBL_CITY                  VARCHAR2(100 BYTE),
  OBL_REMARK                VARCHAR2(255 BYTE),
  OBL_SUPPORT_SMS_STMT      INTEGER,
  OBL_SYS_SWITCH_ENABLED    INTEGER,
  OBL_IS_MORE_RESTRICTED    INTEGER,
  OBL_ACCT_TYPE             VARCHAR2(3 BYTE),
  OBL_IS_VIRTUAL	    INTEGER,
  OBL_BANK_ACCT_SOURCE	    VARCHAR2(50 BYTE),
  OBL_SUB_PROVIDER	    VARCHAR2(10 BYTE)
)
TABLESPACE USER_DATA
RESULT_CACHE (MODE DEFAULT)
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX OL_BANK_ACCTS_LOG_PK ON OL_BANK_ACCTS_LOG
(OBL_INT_BANK_CODE, OBL_BANK_ACCT_NUM, OBL_LOG_SEQ)
LOGGING
TABLESPACE USER_IDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MAXSIZE          UNLIMITED
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
            FLASH_CACHE      DEFAULT
            CELL_FLASH_CACHE DEFAULT
           )
NOPARALLEL;


ALTER TABLE OL_BANK_ACCTS_LOG ADD (
  CONSTRAINT OL_BANK_ACCTS_LOG_PK
  PRIMARY KEY
  (OBL_INT_BANK_CODE, OBL_BANK_ACCT_NUM, OBL_LOG_SEQ)
  USING INDEX OL_BANK_ACCTS_LOG_PK
  ENABLE VALIDATE);

