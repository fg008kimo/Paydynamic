# Partnerdelight (c)2010. All rights reserved. No part of this software may be reproduced in any form without written    
# permission of an authorized representative of Partnerdelight
# Change Description                                 Change Date             Change By
# -------------------------------                    ------------            --------------
# Init Version                                       2010/08/13             Cody Chan

include $(ORACLE_HOME)/precomp/lib/env_precomp.mk

X_HAVE_X11      = no
X_CFLAGS        =  
X_LIBS          = 
X_EXTRA_LIBS    = 
X_PRE_LIBS      =

XM_HAVE_MOTIF   = no
XM_CFLAGS       = 
XM_LIBS         = 

CXX             	= g++ -I/usr/include
CPP             	= gcc -I/usr/include
CXXFLAGS        	= -fPIC -Wall 
CXXFLAGS_AUTO_TEMPL	= -fPIC -Wall
CXXCPP          	= g++ -E

CPPFLAGS 			+= -D_LINUX_DEBUG_ -I$(COMPHOME)/include -I$(HOME)/include -I/usr/include -I/usr/local/include -I$(ORACLE_HOME)/otrace/public -I$(ORACLE_HOME)/precomp/public
__LDFLAGS__                     = -L/usr/local/lib -L$(HOME)/lib -L $(HOME)/lib/utilitys -L/usr/lib64 -L$(HOME)/lib/Tools -L$(HOME)/lib/SEC -L$(HOME)/lib/DB 
LDLIBS				+= -lutilitys -lprivatekey -ldbuser -ldbutility  -ldl -rdynamic -lMQ -lz -lmyrecordset

AR				= c++
ARFLAGS				= -fPIC -shared  -o
LIBEXT				= .so
RANLIB          	= :
YACC            	= bison -y
LEX             	= flex
LEXLIB          	= -lfl
LN_S            	= ln -s
#SYSOBJ 				= $(HOME)/obj
PROC				= proc
OTTFLAGS=$(PCCFLAGS)
PROCPPFLAGS=  common_parser=yes $(CCPSYSINCLUDE) SQLCHECK=SEMANTICS USERID=$(ORACLE_USER)/$(ORACLE_PASSWORD)@$(ORACLE_SID)
PROCPPFLAGS	+=  INCLUDE=$(HOME)/src/batch INCLUDE=$(HOME)/include INCLUDE=/usr/include INCLUDE=/usr/include/curl INCLUDE=/usr/local/include
NETWORKHOME=$(ORACLE_HOME)/network/
PLSQLHOME=$(ORACLE_HOME)/plsql/
INCLUDE=$(I_SYM). $(I_SYM)$(PRECOMPHOME)public $(I_SYM)$(RDBMSHOME)public $(I_SYM)$(RDBMSHOME)demo $(I_SYM)$(PLSQLHOME)public $(I_SYM)$(NETWORKHOME)public
I_SYM=-I
COLOBJS=

.SUFFIXES:	.c .o .h .pc .so

.c.o:
	$(CPP) -c $(CPPFLAGS) $(CXXFLAGS) $<
	mv $*.o $(OBJHOME)
#	rm -f $*.c

.pc.c:
	$(PROC) $(PROCPPFLAGS) iname=$*

.pc.o:
	$(PROC) $(PROCPPFLAGS) iname=$* 
	$(CPP) $(CPPFLAGS) $(CXXFLAGS) -c $*.c
	mv $*.o $(OBJHOME)
	rm -f $*.c



$(BATCHEXE) : $(BATCHOBJS)
	$(CPP) $(CXXFLAGS) $(patsubst %,$(OBJHOME)/%,$(notdir $(BATCHOBJS))) $(SOOBJS) -L$(LIBHOME) $(LLIBCLNTSH) $(__LDFLAGS__) $(LDFLAGS) $(LDLIBS) 
	mv $(BATCHEXE) $(HOME)/bin/batch

