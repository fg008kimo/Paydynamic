#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <ctype.h>
#include <sqlca.h>
#include <sys/types.h>
#include <time.h>
#include "common.h"
#include "utilitys.h"
#include "curl/curl.h"
#include "ObjPtr.h"
#include "myrecordset.h"

#define SQLCA_STORAGE_CLASS extern
#define SQLCODE sqlca.sqlcode

OBJPTR(DB);

char cDebug = 'Y';

int batch_init(int argc, char* argv[])
{
	if (argc < 2)
		return FAILURE;
	else
		return SUCCESS;
}

int batch_proc(int argc, char* argv[])
{
	int iRet = PD_OK;
	char csBankUrl[PD_URL_LEN+1] = "";
	char csUrlMethod[PD_URL_METHOD_LEN+1] = "";

	printf("int_bank_code = [%s]\n", argv[1]);

	DBObjPtr = CreateObj(DBPtr, "DBMobileBankUrl", "GetBankUrl");
	printf("afrer CreateObj\n");
	iRet = (unsigned long)(*DBObjPtr)(argv[1], csBankUrl, csUrlMethod);

	printf("bank_url = [%s]\n", csBankUrl);
	printf("url_method = [%s]\n", csUrlMethod);
	printf("iRet = [%d]\n", iRet);

	return iRet;
}

int batch_terminate(int argc, char* argv[])
{
    return SUCCESS;
}

